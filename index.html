<!doctype html>
<html>
    <head>
        <title>ROCK PAPER SCISSORS!</title>
        <script>
            const selection = ["rock", "paper", "scissors"];
            function computerPlay() {
                return selection[Math.floor(Math.random() * selection.length)];
            }

            function playRound(playerSelection, computerSelection) {
               const player = playerSelection.toLowerCase();
               const comp = computerSelection.toLowerCase();

               switch(player) {
                   case "rock":
                       if(comp === "paper") {
                           return "Win";
                       } else if (comp === "scissors") {
                           return "Lose";
                       } else {
                           return "Tie"
                       }
                       break;
                    case "paper":
                        if(comp === "scissors") {
                            return "Win";
                        } else if (comp === "rock") {
                            return "Lose";
                        } else {
                            return "Tie"
                        }
                        break;
                    case "scissors":
                        if(comp === "rock") {
                            return "Win";
                        } else if (comp === "paper") {
                            return "Lose";
                        } else {
                            return "Tie"
                        }
                        break;
                    default:
                        return "Invalid Input";
                        break;
               }
            }

            function game() {
                let round = 0;
                let score = 0;
                do {
                    let playerSelection = window.prompt("Type your selection('rock', 'paper', 'scissors'");
                    let computerSelection = computerPlay();
                    let result = playRound(playerSelection, computerSelection);

                    console.log("You chose " + playerSelection);
                    console.log("The computer chose " + computerSelection);

                    if(result === "Win") {
                        console.log(`You Win! ${playerSelection} beats ${computerSelection}`);
                        score++;
                    } else if(result === "Tie") {
                        console.log(`Tie! Both chose ${playerSelection}`);
                    } else if(result === "Lose") {
                        console.log(`You Lose! ${computerSelection} beats ${playerSelection}`);
                    } else {
                        console.log(result);
                    }
                    round++;
                } while (round < 5);

                console.log(`Your score is ${score}/5`);
            }
        </script>
    </head>
    <body>
        <header>
            <h1>Console-based Rock, Paper, Scissors</h1>
        </header>
        <p>Open the console of your browser and type <b>'game()'</b> to start the game.</p>
        <p>Type 'rock', 'paper', or 'scissors' on the prompt.</p>
    </body>
</html>